{% extends 'base.html' %}

{% block title %}
    Tickets
{% endblock title %}


{% block contents %}

    <h1>Tickets</h1>    

    <div class="tickets">
        <div class="open">
            <h2>Open Tickets</h2>
            {% for ticket in open_list %}
                <div class="ticket-list">
                    <div class="ticket-contents">
                    <h4>{{ticket.title}}</h4>
                    <h5>{{ticket.description | truncatechars:100}}</h5>
                    <h6>Created: {{ticket.created_on}}</h6>
                    <h6>Status: {{ticket.status}}</h6>
                </div>
                <div class="ticket-icons">
                    <a href="{% url 'detail' ticket.id %}"><i class="bi bi-search"></i></a>
                    <a href="{% url 'update' ticket.id %}"><i class="bi bi-pencil-square"></i></a>
                    <a href="{% url 'delete' ticket.id %}"><i class="bi bi-trash3-fill"></i></a>
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="pro">
            <h2>Progress Tickets</h2>
            {% for ticket in progress_list %}
                <div class="ticket-list">
                    <div class="ticket-contents">
                    <h4>{{ticket.title}}</h4>
                    <h5>{{ticket.description | truncatechars:100}}</h5>
                    <h6>Created: {{ticket.created_on}}</h6>
                    <h6>Status: {{ticket.status}}</h6>
                </div>
                <div class="ticket-icons">
                    <a href="{% url 'detail' ticket.id %}"><i class="bi bi-search"></i></a>
                    <a href="{% url 'update' ticket.id %}"><i class="bi bi-pencil-square"></i></a>
                    <a href="{% url 'delete' ticket.id %}"><i class="bi bi-trash3-fill"></i></a>
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="complete">
            <h2>Complete Tickets</h2>
            {% for ticket in completed_list %}
            <div class="ticket-list">
                    <div class="ticket-contents">
                    <h4>{{ticket.title}}</h4>
                    <h5>{{ticket.description | truncatechars:100 }}</h5>
                    <h6>Created: {{ticket.created_on}}</h6>
                    <h6>Status: {{ticket.status}}</h6>
                </div>
                <div class="ticket-icons">
                    <a href="{% url 'detail' ticket.id %}"><i class="bi bi-search"></i></a>
                    <a href="{% url 'update' ticket.id %}"><i class="bi bi-pencil-square"></i></a>
                    <a href="{% url 'delete' ticket.id %}"><i class="bi bi-trash3-fill"></i></a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
{% endblock contents %}
